<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose'
        });
    </script>
    <style>
        body {
            margin: 0;
            padding: 40px;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .mermaid {
            background: white;
        }
    </style>
</head>
<body>
    <div class="mermaid">
sequenceDiagram
    actor Admin as ‚öôÔ∏è Qu·∫£n tr·ªã vi√™n<br/>(Admin)
    participant UI as üñ•Ô∏è Giao di·ªán<br/>(Admin Dashboard)
    participant Server as ‚öôÔ∏è Server<br/>(Backend)
    participant DB as üíæ Database

    Note over Admin,DB: UC10.1: Xem danh s√°ch & T√¨m ki·∫øm users

    %% Xem danh s√°ch users
    Admin->>UI: 1. Truy c·∫≠p "Qu·∫£n l√Ω ng∆∞·ªùi d√πng"
    UI->>Server: 2. GET /api/admin/users
    Server->>DB: 3. SELECT * FROM Users<br/>ORDER BY created_at DESC<br/>LIMIT 50 OFFSET 0
    DB-->>Server: 4. Tr·∫£ v·ªÅ danh s√°ch users
    Server-->>UI: 5. Tr·∫£ v·ªÅ d·ªØ li·ªáu (50 users)
    UI-->>Admin: 6. Hi·ªÉn th·ªã b·∫£ng danh s√°ch<br/>(ID, Name, Email, Role, Status, Actions)

    %% T√¨m ki·∫øm/L·ªçc
    Admin->>UI: 7. Nh·∫≠p t·ª´ kh√≥a t√¨m ki·∫øm<br/>ho·∫∑c ch·ªçn filter (role/status)
    UI->>Server: 8. GET /api/admin/users?search=...&role=...&status=...
    Server->>DB: 9. SELECT * FROM Users<br/>WHERE (email LIKE '%...%' OR full_name LIKE '%...%')<br/>AND role = ? AND status = ?
    DB-->>Server: 10. Tr·∫£ v·ªÅ k·∫øt qu·∫£
    Server-->>UI: 11. Tr·∫£ v·ªÅ d·ªØ li·ªáu filtered
    UI-->>Admin: 12. Hi·ªÉn th·ªã k·∫øt qu·∫£<br/>+ "T√¨m th·∫•y [N] k·∫øt qu·∫£"

    </div>
</body>
</html>