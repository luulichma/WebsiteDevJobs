<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose'
        });
    </script>
    <style>
        body {
            margin: 0;
            padding: 40px;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .mermaid {
            background: white;
        }
    </style>
</head>
<body>
    <div class="mermaid">
graph TB
    subgraph "USERS Table"
        U1["<b>USERS</b><br/>____________<br/>ğŸ”‘ user_id INT PK<br/>ğŸ“§ email VARCHAR UNIQUE<br/>ğŸ”’ password_hash VARCHAR<br/>ğŸ‘¤ full_name VARCHAR<br/>ğŸ“ phone VARCHAR<br/>ğŸ‘” role ENUM<br/>âœ… status ENUM<br/>ğŸ“„ cv_url VARCHAR<br/>âš™ï¸ skills TEXT JSON<br/>ğŸ“… created_at DATETIME<br/>ğŸ“… updated_at DATETIME<br/>ğŸ“… last_login DATETIME"]
    end
    
    subgraph "COMPANIES Table"
        C1["<b>COMPANIES</b><br/>____________<br/>ğŸ”‘ company_id INT PK<br/>ğŸ¢ company_name VARCHAR<br/>ğŸ“ description TEXT<br/>ğŸŒ website VARCHAR<br/>ğŸ–¼ï¸ logo_url VARCHAR<br/>ğŸ“ address VARCHAR<br/>ğŸ“ phone VARCHAR<br/>ğŸ“§ email VARCHAR<br/>âœ… status ENUM<br/>ğŸ”— created_by INT FK<br/>ğŸ“… created_at DATETIME"]
    end
    
    subgraph "JOBS Table"
        J1["<b>JOBS</b><br/>____________<br/>ğŸ”‘ job_id INT PK<br/>ğŸ”— company_id INT FK<br/>ğŸ”— recruiter_id INT FK<br/>ğŸ’¼ title VARCHAR<br/>ğŸ“ description TEXT<br/>ğŸ“‹ requirements TEXT<br/>ğŸ’° salary_min DECIMAL<br/>ğŸ’° salary_max DECIMAL<br/>ğŸ“ location VARCHAR<br/>â° job_type ENUM<br/>âœ… status ENUM<br/>ğŸ“… expiry_date DATE<br/>ğŸ”— approved_by INT FK"]
    end
    
    subgraph "APPLICATIONS Table"
        A1["<b>APPLICATIONS</b><br/>____________<br/>ğŸ”‘ application_id INT PK<br/>ğŸ”— job_id INT FK<br/>ğŸ”— candidate_id INT FK<br/>ğŸ“„ cv_url VARCHAR<br/>âœ‰ï¸ cover_letter TEXT<br/>âœ… status ENUM<br/>ğŸ“… applied_at DATETIME<br/>ğŸ”— reviewed_by INT FK"]
    end
    
    subgraph "SKILLS & JOB_SKILLS Tables"
        S1["<b>SKILLS</b><br/>____________<br/>ğŸ”‘ skill_id INT PK<br/>ğŸ·ï¸ skill_name VARCHAR UK<br/>ğŸ“ category VARCHAR"]
        JS1["<b>JOB_SKILLS</b><br/>____________<br/>ğŸ”‘ğŸ”— job_id INT PK FK<br/>ğŸ”‘ğŸ”— skill_id INT PK FK"]
    end
    
    subgraph "ADMIN_LOGS Table"
        AL1["<b>ADMIN_LOGS</b><br/>____________<br/>ğŸ”‘ log_id INT PK<br/>ğŸ”— admin_id INT FK<br/>âš¡ action VARCHAR<br/>ğŸ¯ target_type ENUM<br/>ğŸ†” target_id INT<br/>ğŸ“ details TEXT JSON<br/>ğŸŒ ip_address VARCHAR"]
    end
    
    subgraph "JOB_LOGS Table"
        JL1["<b>JOB_LOGS</b><br/>____________<br/>ğŸ”‘ log_id INT PK<br/>ğŸ”— job_id INT FK<br/>ğŸ”— recruiter_id INT FK<br/>âš¡ action VARCHAR<br/>ğŸ“ details TEXT JSON"]
    end
    
    %% Relationships
    U1 -->|"1:N created_by"| C1
    C1 -->|"1:N company_id"| J1
    U1 -->|"1:N recruiter_id"| J1
    U1 -->|"1:N approved_by"| J1
    J1 -->|"1:N job_id"| A1
    U1 -->|"1:N candidate_id"| A1
    U1 -->|"1:N reviewed_by"| A1
    J1 -->|"1:N job_id"| JS1
    S1 -->|"1:N skill_id"| JS1
    U1 -->|"1:N admin_id"| AL1
    J1 -->|"1:N job_id"| JL1
    
    classDef primaryKey fill:#e3f2fd,stroke:#1976d2,stroke-width:3px
    classDef foreignKey fill:#fff9c4,stroke:#f57f17,stroke-width:2px
    classDef junction fill:#f3e5f5,stroke:#7b1fa2,stroke-width:2px
    
    class U1,C1,J1,A1,S1,AL1,JL1 primaryKey
    class JS1 junction

    </div>
</body>
</html>