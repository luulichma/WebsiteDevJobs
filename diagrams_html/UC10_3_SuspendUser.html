<!DOCTYPE html>
<html>
<head>
    <meta charset="UTF-8">
    <script type="module">
        import mermaid from 'https://cdn.jsdelivr.net/npm/mermaid@10/dist/mermaid.esm.min.mjs';
        mermaid.initialize({ 
            startOnLoad: true,
            theme: 'default',
            securityLevel: 'loose'
        });
    </script>
    <style>
        body {
            margin: 0;
            padding: 40px;
            background: white;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .mermaid {
            background: white;
        }
    </style>
</head>
<body>
    <div class="mermaid">
sequenceDiagram
    actor Admin as âš™ï¸ Quáº£n trá»‹ viÃªn<br/>(Admin)
    participant UI as ğŸ–¥ï¸ Giao diá»‡n<br/>(Admin Dashboard)
    participant Server as âš™ï¸ Server<br/>(Backend)
    participant DB as ğŸ’¾ Database
    participant Email as ğŸ“§ Email Service

    Note over Admin,Email: UC10.3: KhÃ³a tÃ i khoáº£n

    Admin->>UI: 1. Click "KhÃ³a" trÃªn user Active
    UI-->>Admin: 2. Hiá»ƒn thá»‹ form nháº­p lÃ½ do<br/>(Vi pháº¡m chÃ­nh sÃ¡ch, Spam, Gian láº­n, KhÃ¡c)
    Admin->>UI: 3. Chá»n/Nháº­p lÃ½ do
    Admin->>UI: 4. Nháº¥n "XÃ¡c nháº­n khÃ³a"
    
    UI->>Server: 5. POST /api/admin/users/{id}/suspend<br/>(reason: "...")
    Server->>DB: 6. UPDATE Users<br/>SET status = 'suspended'<br/>WHERE user_id = ?
    DB-->>Server: 7. Cáº­p nháº­t thÃ nh cÃ´ng
    
    Server->>DB: 8. INSERT INTO AdminLogs<br/>(admin_id, action, target_user, reason)
    DB-->>Server: 9. Log saved
    
    Server->>Email: 10. Gá»­i email thÃ´ng bÃ¡o<br/>Subject: "TÃ i khoáº£n bá»‹ khÃ³a"<br/>Reason: [lÃ½ do]
    Email-->>Server: 11. Email sent
    
    Server-->>UI: 12. Success
    UI-->>Admin: 13. âœ… "ÄÃ£ khÃ³a tÃ i khoáº£n"<br/>User khÃ´ng thá»ƒ Ä‘Äƒng nháº­p

    </div>
</body>
</html>